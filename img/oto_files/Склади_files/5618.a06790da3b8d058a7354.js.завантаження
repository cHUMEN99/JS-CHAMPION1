"use strict";(self.webpackChunkavto_pro=self.webpackChunkavto_pro||[]).push([[5618],{63292:function(e,_,r){r.d(_,{u:function(){return i}});var t,o=r(78709),a=r(51031),s=r(46882);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);var E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const i=e=>{const _=(0,a.TH)(),r=(0,a.k6)();return(0,o.useEffect)((()=>{if(!_.state||!_.state.isModal){const e=`${_.pathname}${null==_?void 0:_.hash}${_.search}`;r.replace(e,{isModal:!0})}})),o.createElement(s.ZP,e)};var l,n;E(i,"useLocation{location}\nuseHistory{history}\nuseEffect{}",(()=>[a.TH,a.k6])),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(i,"RouterModal","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\components\\modal\\RouterModal.jsx"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},21350:function(e,_,r){r.d(_,{L:function(){return E}});var t,o=r(78709),a=r(65129);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=o.createContext();function E(e){return{to:a.Z.bind(s,e)}}const i=s;var l,n;_.Z=i,(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(s,"AppContext","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\Context.js"),l.register(E,"subscribe","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\Context.js"),l.register(i,"default","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\Context.js")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},58148:function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return AddWarehouse}});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(93359),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(78709),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(16526),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),Js_warehouse_utils_getAddedNumberToName__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(60623),_avtopro_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24633),_avtopro_select__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(33839),_avtopro_error_output__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(72429),_avtopro_modal__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(46882),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5075),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(40045),_warehouse_forms_WarehouseEditing__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(52827),_translation__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(88535),enterModule;function ownKeys(e,_){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);_&&(t=t.filter((function(_){return Object.getOwnPropertyDescriptor(e,_).enumerable}))),r.push.apply(r,t)}return r}function _objectSpread(e){for(var _=1;_<arguments.length;_++){var r=null!=arguments[_]?arguments[_]:{};_%2?ownKeys(Object(r),!0).forEach((function(_){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,_,r[_])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(_){Object.defineProperty(e,_,Object.getOwnPropertyDescriptor(r,_))}))}return e}module=__webpack_require__.hmd(module),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const params=new URLSearchParams(window.location.search);class AddWarehouse extends react__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(e){super(e),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"changeWarehouse",(e=>{this.setState({warehouse:e})})),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"onSubmit",(e=>{e.preventDefault();const{warehouse:_,whType:r}=this.state,{isAutoPricelist:t,warehouses:o}=this.props,a=[...this.state.warehouse.shops,...this.state.warehouse.isEShop&&this.state.eShop?[this.state.eShop.id]:[]];this.props.onSubmit(_objectSpread(_objectSpread({},_),{},"cardismantling"==r?{name:"cardismantling"==r?(0,Js_warehouse_utils_getAddedNumberToName__WEBPACK_IMPORTED_MODULE_2__.Z)(o,_.name):_.name,shops:a,isWholesale:"wholesale"==r,isGuaranteed:"guaranteed"==r,isCarDisassembly:"cardismantling"==r,cardismantlingId:"cardismantling"==r?this.state.relatedCar.id:null,isAutoPricelist:t,relatedCar:this.state.relatedCar}:{shops:a,isWholesale:"wholesale"==r,isGuaranteed:"guaranteed"==r,isCarDisassembly:"cardismantling"==r,cardismantlingId:"cardismantling"==r?this.state.relatedCar.id:null,isAutoPricelist:t}))})),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"onChangeSelect",((e,[_])=>{switch(_){case"guaranteed":this.props.changeModelName("gtdWarehouse");break;case"wholesale":this.props.changeModelName("warehouse");break;case"retail":this.props.changeModelName("warehouse")}this.setState({[e]:_})})),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"onChangeRelatedCar",((e,[_])=>{this.setState({[e]:_})}));const{getShops:_,getCurrency:r,modelName:t,supplierLink:o,supplier:a,currency:s}=e;this.state={shops:null,eShop:null,currencies:null,warehouse:{shops:[],isEShop:"true"==params.get("eshop"),wholesaleVision:"AllSellers",currency:o?"UAH":null==s?void 0:s.string,name:"",deliveryDays:0,deliveryInfo:"",supplierId:a&&a.id||null,isActive:!(a&&a.id)},whType:"gtdWarehouse"==t?"guaranteed":"retail",relatedCar:"",errorRelatedCar:!1},this.shops$=new rxjs__WEBPACK_IMPORTED_MODULE_9__.X("").pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.w)((()=>_()))),this.currencies$=new rxjs__WEBPACK_IMPORTED_MODULE_9__.X("").pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.w)((()=>r())))}componentDidMount(){this.shops$.subscribe({next:e=>{var _;const r=null!==(_=e.find((e=>e.forSellerSite)))&&void 0!==_?_:null;this.setState({shops:e.filter((e=>!e.forSellerSite)),eShop:r,warehouse:_objectSpread(_objectSpread({},this.state.warehouse),{},{isEShop:"true"==params.get("eshop")||r&&!r.isTrial})})},error:()=>{this.setState({shops:[]})}}),this.currencies$.subscribe({next:e=>{this.setState({currencies:e})},error:()=>{this.setState({currencies:[]})}})}componentDidUpdate(e){if(this.props.dismantlings!==e.dismantlings&&"true"==params.get("dismantling")){var _,r,t;const e=this.props.dismantlings?[...this.props.dismantlings.values()].find((({id:e})=>e==params.get("dismantlingId"))):[];this.setState({whType:"cardismantling",relatedCar:{id:null==e?void 0:e.id,name:`${null===(_=e.make)||void 0===_?void 0:_.name} ${null===(r=e.model)||void 0===r?void 0:r.nameOrig} ${(null===(t=e.engine)||void 0===t?void 0:t.name)||""}`}})}}render(){const{shops:e,eShop:_,currencies:r,warehouse:t,whType:o,relatedCar:a}=this.state,{allowToCreateWarehouseGtn:s,supplierLink:E,isAutoPricelist:i,supplierPriceList:l,supplierPriceListWh:n,supplier:p,warehouseTypes:c,dismantlings:u}=this.props,d=c?[...c.values()].map((e=>_objectSpread(_objectSpread({},e),{},{value:e.value.toLowerCase()}))):[],P=u?[...u.values()]:[];for(let e=0;e<d.length;e++){const{value:_}=d[e];switch(_){case"guaranteed":d[e].description="Склад товарів, які доступні до відправки відразу після оформлення заказу.";break;case"retail":d[e].description="Склад роздрібних провозицій, який бачать всі користувачі";break;case"wholesale":d[e].description="Склад оптових пропозицій. Дозволяє налаштувати перегляд для різних груп користувачів";break;case"cardismantling":0===P.length?d[e].description="Створити склад цього типу можна при наявності автомобіля в розділі Авторазборки.":d[e].description="Склад товарів із розібраних автомобілів.";break;default:d[e].description="Склад товарів, які доступні до відправки відразу після оформлення заказу."}}return react__WEBPACK_IMPORTED_MODULE_1__.createElement("form",{className:"pro-form wh-settings-form",onSubmit:this.onSubmit},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"pro-form__control","aria-label":_translation__WEBPACK_IMPORTED_MODULE_8__.Z.TYPE_WAREHOUSE},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_4__.ZP,{name:"whType",placeholder:_translation__WEBPACK_IMPORTED_MODULE_8__.Z.TYPE_WAREHOUSE,value:o,onChange:this.onChangeSelect,disabled:"true"==params.get("dismantling")},d&&d.map((e=>{const{value:_,description:r}=e,t="cardismantling"===_&&0===P.length;if("guaranteed"===_&&(!s||E))return null;let o="";switch(_){case"retail":o=_translation__WEBPACK_IMPORTED_MODULE_8__.Z.RETAIL;break;case"wholesale":o=_translation__WEBPACK_IMPORTED_MODULE_8__.Z.OPT;break;case"guaranteed":o=_translation__WEBPACK_IMPORTED_MODULE_8__.Z.GUARANTEED_WAREHOUSE;break;case"cardismantling":o=_translation__WEBPACK_IMPORTED_MODULE_8__.Z.CAR_DISMANTLING;break;default:o=_translation__WEBPACK_IMPORTED_MODULE_8__.Z.RETAIL}return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_4__.Th,{key:_,value:_,label:o,stopClickPropagation:t},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{style:{color:t?"#7B7B7B":""}},o),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("small",{className:"muted"},r)))})))),"cardismantling"===o&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"pro-form__control","aria-label":_translation__WEBPACK_IMPORTED_MODULE_8__.Z.NAME_WAREHOUSE_DISMANTLING},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_4__.ZP,{id:"relatedCar",name:"relatedCar",onChange:this.onChangeRelatedCar,placeholder:a.name||`${_translation__WEBPACK_IMPORTED_MODULE_8__.Z.NAME_WAREHOUSE_DISMANTLING}`,searchable:!0,value:a,disabled:"true"==params.get("dismantling")},P.map((({id:e,make:_,model:r,engine:t=""})=>react__WEBPACK_IMPORTED_MODULE_1__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_4__.Wx,{key:e,value:{id:e,name:`${_.name} ${r.nameOrig} ${t.name||""}`},group:_.name},`${_.name} ${r.nameOrig} ${t.name||""} `)))),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_avtopro_error_output__WEBPACK_IMPORTED_MODULE_5__.Z,{modelName:".relatedCar",errorResponse:this.props.errors})),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_warehouse_forms_WarehouseEditing__WEBPACK_IMPORTED_MODULE_7__.Z,{whType:o,errors:this.props.errors,shops:e,eShop:_,currencies:r,supplierPriceList:l,supplierPriceListWh:n,warehouse:t,isAutoPricelist:i,changeWarehouse:this.changeWarehouse,relatedCar:a}),p&&"omega"==p.link&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{style:{marginTop:"35px",marginBottom:"35px"}},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_avtopro_modal__WEBPACK_IMPORTED_MODULE_6__.WB,{mode:"warning"},"Після завантаження прайс листа трансляція складу у видачі буде неактивна. Налаштуйте необхідні фільтри націнки і відображення і активуйте склад.")),i&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{style:{marginTop:"35px",marginBottom:"35px"}},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_avtopro_modal__WEBPACK_IMPORTED_MODULE_6__.WB,{mode:"warning"},"Завантаження прайс листа постачальника відбудеться автоматично. Після завантаження прайс листа трансляція складу у видачі буде неактивна. Налаштуйте необхідні фільтри націнки і відображення і активуйте склад.")),null!=this.props.errors&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"pro-form__control"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_avtopro_error_output__WEBPACK_IMPORTED_MODULE_5__.Z,{errorResponse:this.props.errors})),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"pro-form__footer pro-form__footer--mirror"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"pro-form__control"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_avtopro_button__WEBPACK_IMPORTED_MODULE_3__.Z,{uppercase:!0,theme:"prime",type:"submit"},"Зберегти")),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"pro-form__control"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_avtopro_button__WEBPACK_IMPORTED_MODULE_3__.Z,{uppercase:!0,onClick:this.props.onReset,type:"reset"},"Відміна"))))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}var reactHotLoader,leaveModule;(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(AddWarehouse,"propTypes",{getShops:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func.isRequired,getCurrency:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func.isRequired,supplierLink:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,supplierPriceList:prop_types__WEBPACK_IMPORTED_MODULE_11___default().array,supplierPriceListWh:prop_types__WEBPACK_IMPORTED_MODULE_11___default().array,onReset:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func.isRequired,onSubmit:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func.isRequired,errors:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object,supplier:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object,changeModelName:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func.isRequired,allowToCreateWarehouseGtn:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,modelName:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string.isRequired,isAutoPricelist:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,currency:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object.isRequired,warehouseTypes:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object.isRequired,dismantlings:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object.isRequired}),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(AddWarehouse,"defaultProps",{errors:null,allowToCreateWarehouseGtn:!0,isAutoPricelist:!1,supplierLink:null,supplier:null}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(params,"params","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\components\\forms\\AddWarehouse.jsx"),reactHotLoader.register(AddWarehouse,"AddWarehouse","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\components\\forms\\AddWarehouse.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)},52827:function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return WarehouseEditing}});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(93359),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(75595),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(23370),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(78709),prop_types__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(16526),prop_types__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_16__),_avtopro_text_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(63469),_avtopro_checkbox__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(51788),_avtopro_error_output__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(72429),_avtopro_form_frame__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(78642),_avtopro_form_control__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(29354),_avtopro_modal__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(46882),_avtopro_select__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(33839),_avtopro_tooltip__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(88155),_avtopro_icons_dist_js_CartEstoreIcon__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(9738),Icons_question_svg__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(88397),Icons_question_svg__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(Icons_question_svg__WEBPACK_IMPORTED_MODULE_13__),Js_common_globals__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(14827),_translation__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(88535);module=__webpack_require__.hmd(module);const _excluded=["children","selected","disabled"];var enterModule;function ownKeys(e,_){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);_&&(t=t.filter((function(_){return Object.getOwnPropertyDescriptor(e,_).enumerable}))),r.push.apply(r,t)}return r}function _objectSpread(e){for(var _=1;_<arguments.length;_++){var r=null!=arguments[_]?arguments[_]:{};_%2?ownKeys(Object(r),!0).forEach((function(_){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,_,r[_])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(_){Object.defineProperty(e,_,Object.getOwnPropertyDescriptor(r,_))}))}return e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const ShopsList=({shops:e,eShop:_,whShops:r,onChange:t,onChangeCheckbox:o,isEShop:a,isDemo:s,isCarDisassembly:E,whType:i,isEdit:l})=>{if(!e)return react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:"pro-loader"});if(!e.length&&!_)return react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_modal__WEBPACK_IMPORTED_MODULE_9__.WB,{mode:"info"},_translation__WEBPACK_IMPORTED_MODULE_15__.Z.START_TRANSLATION);(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((()=>{(l&&"cardismantling"===i||"cardismantling"===i)&&o({target:{name:"isEShop",checked:!1}})}),[i,l,o]);const n=30==Js_common_globals__WEBPACK_IMPORTED_MODULE_14__.l.site.id?_:_&&(!_.isTrial||s);return react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:"wh-settings-form__caption wh-settings-form__caption--wh-editing"},react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:"wh-settings-form__caption__text wh-settings-form__caption__text--shop-list"},_translation__WEBPACK_IMPORTED_MODULE_15__.Z.RELATED_STORES,!l&&react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_3__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_3__.createElement("i",{className:"pro-icon-inline","data-tooltip-id":"addparts__warehouses__delivery-terms-ww"},react__WEBPACK_IMPORTED_MODULE_3__.createElement(Icons_question_svg__WEBPACK_IMPORTED_MODULE_13___default(),null))),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_tooltip__WEBPACK_IMPORTED_MODULE_11__.Z,{id:"addparts__warehouses__delivery-terms-ww",place:"top"},_translation__WEBPACK_IMPORTED_MODULE_15__.Z.ADDPARTS_WAREHOUSE_INFO_TOOLTIP)))),react__WEBPACK_IMPORTED_MODULE_3__.createElement("p",{className:"px-x2 text-center"},_translation__WEBPACK_IMPORTED_MODULE_15__.Z.LINK_STORE_TO_WH),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_form_control__WEBPACK_IMPORTED_MODULE_8__.Z,null,n&&react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:"wh-settings-form__eshop-box"},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_checkbox__WEBPACK_IMPORTED_MODULE_5__.Z,{labelText:_.name,name:"isEShop",onChange:o,checked:a,disabled:s}),react__WEBPACK_IMPORTED_MODULE_3__.createElement("i",{className:"pro-icon-inline","data-tooltip-id":"warehouses__eshop-box"},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_icons_dist_js_CartEstoreIcon__WEBPACK_IMPORTED_MODULE_12__.Z,null)),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_tooltip__WEBPACK_IMPORTED_MODULE_11__.Z,{id:"warehouses__eshop-box"},_translation__WEBPACK_IMPORTED_MODULE_15__.Z.ESHOP_TOOLTIP)),e.length>0&&!s&&react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_10__.aV,{name:"shops",placeholder:_translation__WEBPACK_IMPORTED_MODULE_15__.Z.SHOPS,multiple:!0,value:r.length?r:[],onChange:t},e.map((e=>react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_10__.eM,{key:e.id,value:e.id},e.name))))),s&&react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_modal__WEBPACK_IMPORTED_MODULE_9__.WB,{mode:"info"},_translation__WEBPACK_IMPORTED_MODULE_15__.Z.ALERT_WAREHOUSE_DEMO),!e.length&&!_.isTrial&&!s&&react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_modal__WEBPACK_IMPORTED_MODULE_9__.WB,{mode:"info"},_translation__WEBPACK_IMPORTED_MODULE_15__.Z.START_TRANSLATION))};__signature__(ShopsList,"useEffect{}");const CheckboxOptionCity=e=>{let{children:_,selected:r,disabled:t}=e,o=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.Z)(e,_excluded);return react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_10__.Wx,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__.Z)({selected:r},o),o.placed?_:react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_checkbox__WEBPACK_IMPORTED_MODULE_5__.Z,{labelText:_,checked:r,disabled:t}))};class WarehouseEditing extends react__WEBPACK_IMPORTED_MODULE_3__.Component{constructor(e){super(e),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"onChange",(e=>{this.props.changeWarehouse(_objectSpread(_objectSpread({},this.props.warehouse),{},{[e.target.name]:e.target.value}))})),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"onChangeSelect",((e,_)=>{const{changeWarehouse:r,warehouse:t,supplierPriceList:o}=this.props;r(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},t),"supplierPriceListId"==e&&o&&t.supplierPriceListId===_[0]?{}:{supplierCity:null}),"supplierPriceListId"===e&&o?{supplierPriceListName:o.find((e=>e.id==_[0])).name}:{}),{},{[e]:_[0]}))})),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"onChangeCheckbox",(e=>{this.props.changeWarehouse(_objectSpread(_objectSpread({},this.props.warehouse),{},{[e.target.name]:e.target.checked}))})),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"onChangeShops",((e,_)=>{this.props.changeWarehouse(_objectSpread(_objectSpread({},this.props.warehouse),{},{[e]:_}))})),this.state={supplierPriceListCities:[],selectedSupplierPriceListCities:[]}}componentDidUpdate(e){const{isAutoPricelist:_,supplierCity:r,supplierPriceListWh:t,relatedCar:o}=this.props;if(r&&r!==this.state.supplierPriceListCities.join()){const e=r.split(",");this.setState({supplierPriceListCities:e,selectedSupplierPriceListCities:e})}_&&t&&t.join()!==this.state.supplierPriceListCities.join()&&this.setState({supplierPriceListCities:t}),e.relatedCar!==this.props.relatedCar&&this.props.changeWarehouse(_objectSpread(_objectSpread({},this.props.warehouse),{},{name:o.name}))}render(){var e,_;const{currencies:r,shops:t,eShop:o,warehouse:a,errors:s,isEdit:E,whType:i,supplierPriceList:l,isAutoPricelist:n,isCarDisassembly:p,warehouseItem:c}=this.props,{supplierPriceListCities:u,selectedSupplierPriceListCities:d}=this.state,{make:P,model:O,engine:D=""}=null!==(e=null==c?void 0:c.cardismantling)&&void 0!==e?e:{},M=30==Js_common_globals__WEBPACK_IMPORTED_MODULE_14__.l.site.id||618==Js_common_globals__WEBPACK_IMPORTED_MODULE_14__.l.site.id;return react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,p&&!M&&react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_form_control__WEBPACK_IMPORTED_MODULE_8__.Z,{htmlFor:"warehouseName",label:_translation__WEBPACK_IMPORTED_MODULE_15__.Z.NAME_WAREHOUSE_DISMANTLING},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_text_input__WEBPACK_IMPORTED_MODULE_4__.Z,{name:"warehouseName",id:"warehouseName",value:`${null==P?void 0:P.name} ${null==O?void 0:O.nameOrig} ${(null==D?void 0:D.name)||""}`,autoComplete:"off",disabled:E}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_error_output__WEBPACK_IMPORTED_MODULE_6__.Z,{modelName:".warehouseName",errorResponse:s})),"guaranteed"==i||a.isGuaranteed?null:react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_form_control__WEBPACK_IMPORTED_MODULE_8__.Z,{htmlFor:"name",label:_translation__WEBPACK_IMPORTED_MODULE_15__.Z.NAME_WAREHOUSE},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_text_input__WEBPACK_IMPORTED_MODULE_4__.Z,{name:"name",id:"name",placeholder:_translation__WEBPACK_IMPORTED_MODULE_15__.Z.NAME_WAREHOUSE,value:a.name,onChange:this.onChange,autoComplete:"off"}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_error_output__WEBPACK_IMPORTED_MODULE_6__.Z,{modelName:".name",errorResponse:s})),l&&!a.supplier?react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:"pro-form__control","aria-label":a.supplierPriceListId?"Прайс лист постачальника":""},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_10__.ZP,{id:"supplierPriceListId",name:"supplierPriceListId",placeholder:"Прайс лист постачальника",value:a.supplierPriceListId,onChange:(e,_)=>{if(a.supplierPriceListId!==_[0]){var r;const e=null!==(r=l.find((e=>e.id==_[0])).cities)&&void 0!==r?r:[];this.setState({supplierPriceListCities:e,selectedSupplierPriceListCities:[]})}this.onChangeSelect(e,_)}},l&&l.map((e=>react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_10__.Wx,{key:e.id,value:e.id},e.name)))),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_error_output__WEBPACK_IMPORTED_MODULE_6__.Z,{modelName:".supplierPriceListId",errorResponse:s})):null,a.supplier&&!n?react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_form_control__WEBPACK_IMPORTED_MODULE_8__.Z,{name:"supplierPriceListId",label:"Прайс лист постачальника",disabled:!0},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_text_input__WEBPACK_IMPORTED_MODULE_4__.Z,{id:"supplierPriceListId",name:"supplierPriceListId",placeholder:"Прайс лист постачальника",value:null!==(_=a.supplierPriceListName)&&void 0!==_?_:a.supplierPriceListId,autoComplete:"off",disabled:!0})):null,u.length>0&&react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:"pro-form__control wh-settings-form__supplier-city","aria-label":"Склад постачальника"},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_10__.aV,{name:"supplierCity",value:d,multiple:!0,onChange:(e,_)=>{E||(this.setState({selectedSupplierPriceListCities:_}),this.onChangeSelect(e,[_.join()]))}},u.map((e=>react__WEBPACK_IMPORTED_MODULE_3__.createElement(CheckboxOptionCity,{key:e,value:e,disabled:E},e))))),react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:"pro-form__group wh-settings__form__group wh-settings__form__group--wh-editing"},l||n?react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_form_control__WEBPACK_IMPORTED_MODULE_8__.Z,{name:"currency",label:_translation__WEBPACK_IMPORTED_MODULE_15__.Z.CURRENCY,disabled:!0},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_text_input__WEBPACK_IMPORTED_MODULE_4__.Z,{id:"currency",name:"currency",placeholder:_translation__WEBPACK_IMPORTED_MODULE_15__.Z.CURRENCY,value:a.currency,autoComplete:"off",disabled:!0})):react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:"pro-form__control","aria-label":_translation__WEBPACK_IMPORTED_MODULE_15__.Z.CURRENCY},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_10__.ZP,{id:"currency",name:"currency",placeholder:_translation__WEBPACK_IMPORTED_MODULE_15__.Z.CURRENCY,value:M&&"EUR"==a.currency?" EUR":a.currency,onChange:this.onChangeSelect,disabled:a.isDemo||M&&"EUR"==a.currency},r&&r.map((e=>react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_10__.Wx,{key:e.code,value:M&&"EUR"==a.currency?" EUR":e.code},M&&"EUR"==a.currency?" EUR":e.code)))),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_error_output__WEBPACK_IMPORTED_MODULE_6__.Z,{modelName:".currency",errorResponse:s})),"guaranteed"==i||a.isGuaranteed?null:react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:"pro-form__control pro-form__control--icon-box","aria-label":_translation__WEBPACK_IMPORTED_MODULE_15__.Z.DISPATCH_TERM},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_form_frame__WEBPACK_IMPORTED_MODULE_7__.Z,null,react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_text_input__WEBPACK_IMPORTED_MODULE_4__.Z,{id:"delivery-days",name:"deliveryDays",placeholder:_translation__WEBPACK_IMPORTED_MODULE_15__.Z.DISPATCH_TERM,type:"number",step:"1",value:a.deliveryDays,onChange:this.onChange,autoComplete:"off",disabled:a.isDemo}),_translation__WEBPACK_IMPORTED_MODULE_15__.Z.DAYS),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_error_output__WEBPACK_IMPORTED_MODULE_6__.Z,{modelName:".deliveryDays",errorResponse:s}),react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:"warehouses-form__icon-warning warehouses-form__icon-control"},react__WEBPACK_IMPORTED_MODULE_3__.createElement("i",{className:"pro-icon-inline","data-tooltip-id":"warehouses__delivery-terms-ww"},react__WEBPACK_IMPORTED_MODULE_3__.createElement(Icons_question_svg__WEBPACK_IMPORTED_MODULE_13___default(),null))),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_tooltip__WEBPACK_IMPORTED_MODULE_11__.Z,{id:"warehouses__delivery-terms-ww"},"За скільки днів з моменту замовлення ви зможете відправити товар покупцеві."))),"guaranteed"!=i&&E&&a.isWholesale?react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_form_control__WEBPACK_IMPORTED_MODULE_8__.Z,null,react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_checkbox__WEBPACK_IMPORTED_MODULE_5__.Z,{name:"isWholesale",labelText:_translation__WEBPACK_IMPORTED_MODULE_15__.Z.WAREHOUSE_OPT,defaultChecked:a.isWholesale,disabled:!0}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_error_output__WEBPACK_IMPORTED_MODULE_6__.Z,{modelName:".isWholesale",errorResponse:s})):null,"wholesale"==i||a.isWholesale||a.isDropshipping?react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:"pro-form__control","aria-label":_translation__WEBPACK_IMPORTED_MODULE_15__.Z.WHO_CAN_WATCH},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_10__.ZP,{name:"wholesaleVision",placeholder:_translation__WEBPACK_IMPORTED_MODULE_15__.Z.DISPLAY_ISSUANCE,value:a.wholesaleVision,onChange:this.onChangeSelect},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_10__.Wx,{key:"AllUsers",value:"AllUsers"},_translation__WEBPACK_IMPORTED_MODULE_15__.Z.VISIBLE_USERS),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_10__.Wx,{key:"AllSellers",value:"AllSellers"},_translation__WEBPACK_IMPORTED_MODULE_15__.Z.VISIBLE_SELLERS),!M&&react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_select__WEBPACK_IMPORTED_MODULE_10__.Wx,{key:"VerifiedSellers",value:"VerifiedSellers"},_translation__WEBPACK_IMPORTED_MODULE_15__.Z.VISIBLE_VERIFY_SELLERS)),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_avtopro_error_output__WEBPACK_IMPORTED_MODULE_6__.Z,{modelName:".wholesaleVision",errorResponse:s})):null,react__WEBPACK_IMPORTED_MODULE_3__.createElement(ShopsList,{whType:i,isCarDisassembly:p,shops:t&&t.filter((e=>!e.isFulfillment)),whShops:a.shops,eShop:o,onChange:this.onChangeShops,onChangeCheckbox:this.onChangeCheckbox,isEShop:a.isEShop,isDemo:a.isDemo,isEdit:E}))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}var reactHotLoader,leaveModule;(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(WarehouseEditing,"propTypes",{changeWarehouse:prop_types__WEBPACK_IMPORTED_MODULE_16___default().func.isRequired,warehouse:prop_types__WEBPACK_IMPORTED_MODULE_16___default().object.isRequired,currencies:prop_types__WEBPACK_IMPORTED_MODULE_16___default().array,shops:prop_types__WEBPACK_IMPORTED_MODULE_16___default().array,eShop:prop_types__WEBPACK_IMPORTED_MODULE_16___default().object,supplierCity:prop_types__WEBPACK_IMPORTED_MODULE_16___default().string,supplierPriceList:prop_types__WEBPACK_IMPORTED_MODULE_16___default().array,supplierPriceListWh:prop_types__WEBPACK_IMPORTED_MODULE_16___default().array,errors:prop_types__WEBPACK_IMPORTED_MODULE_16___default().object,isEdit:prop_types__WEBPACK_IMPORTED_MODULE_16___default().bool,whType:prop_types__WEBPACK_IMPORTED_MODULE_16___default().string,isAutoPricelist:prop_types__WEBPACK_IMPORTED_MODULE_16___default().bool,relatedCar:prop_types__WEBPACK_IMPORTED_MODULE_16___default().object,isCarDisassembly:prop_types__WEBPACK_IMPORTED_MODULE_16___default().bool,warehouseItem:prop_types__WEBPACK_IMPORTED_MODULE_16___default().object}),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(WarehouseEditing,"defaultProps",{currencies:null,shops:null,eShop:null,supplierPriceList:null,errors:null,isEdit:!1,whType:"",isAutoPricelist:!1,supplierCity:null,relatedCar:{}}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(ShopsList,"ShopsList","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\components\\forms\\warehouse-forms\\WarehouseEditing.jsx"),reactHotLoader.register(CheckboxOptionCity,"CheckboxOptionCity","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\components\\forms\\warehouse-forms\\WarehouseEditing.jsx"),reactHotLoader.register(WarehouseEditing,"WarehouseEditing","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\components\\forms\\warehouse-forms\\WarehouseEditing.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)},33136:function(e,_,r){var t,o=r(78709),a=r(16526),s=r.n(a),E=r(24633),i=r(88535);e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=({onSubmit:e})=>o.createElement("form",{className:"pro-form",onSubmit:_=>{_.preventDefault(),e()}},o.createElement("ol",null,o.createElement("li",null,i.Z.RULES_GUARANTEED_WAREHOUSE1),o.createElement("li",null,i.Z.RULES_GUARANTEED_WAREHOUSE2),o.createElement("li",null,i.Z.RULES_GUARANTEED_WAREHOUSE3),o.createElement("li",null,i.Z.RULES_GUARANTEED_WAREHOUSE4)),o.createElement("div",{className:"pro-form__footer pro-form__footer--mirror"},o.createElement("div",{className:"pro-form__control"},o.createElement(E.Z,{uppercase:!0,theme:"prime",type:"submit"},"Приймаю"))));l.propTypes={onSubmit:s().func.isRequired};const n=l;var p,c;_.Z=n,(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(l,"WhGtdRulesForm","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\components\\forms\\warehouse-forms\\WhGtdRulesForm.jsx"),p.register(n,"default","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\components\\forms\\warehouse-forms\\WhGtdRulesForm.jsx")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},55618:function(module,__webpack_exports__,__webpack_require__){var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(93359),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(78709),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(16526),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),Js_components_modal_RouterModal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(63292),validator_es_lib_isInt__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(63902),validator_es_lib_isLength__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(18542),_avtopro_validator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43648),_Context__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(21350),_components_forms_AddWarehouse__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(58148),_components_forms_warehouse_forms_WhGtdRulesForm__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(33136),_translation__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(88535),enterModule;module=__webpack_require__.hmd(module),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const extractObservables=({warehousesService:e,warehouses$:_,warehouseTypes$:r,dismantlings$:t})=>({warehouses:_,warehouseTypes:r,dismantlings:t,warehouseUpdateQuery:e.addWarehouse.queue$,warehouseUpdateError:e.addWarehouse.error$}),deliveryInfoLimits={min:1,max:255},AddWarehouseValidated=(0,_avtopro_validator__WEBPACK_IMPORTED_MODULE_3__.ZP)(_components_forms_AddWarehouse__WEBPACK_IMPORTED_MODULE_5__.Z,[new _avtopro_validator__WEBPACK_IMPORTED_MODULE_3__.$9("warehouse.name","Необхідно вказати назву складу",validator_es_lib_isLength__WEBPACK_IMPORTED_MODULE_8__.Z,!1,{min:1}),new _avtopro_validator__WEBPACK_IMPORTED_MODULE_3__.$9("warehouse.name","Назва складу не повинно бути більше 150 символів",validator_es_lib_isLength__WEBPACK_IMPORTED_MODULE_8__.Z,!1,{max:150}),new _avtopro_validator__WEBPACK_IMPORTED_MODULE_3__.$9("warehouse.deliveryDays","Термін доставки має бути позитивним числом",validator_es_lib_isInt__WEBPACK_IMPORTED_MODULE_9__.Z,!1,{min:0,max:365}),new _avtopro_validator__WEBPACK_IMPORTED_MODULE_3__.$9("warehouse.relatedCar","Виберіть авто для створення склада",validator_es_lib_isLength__WEBPACK_IMPORTED_MODULE_8__.Z,!1,{min:1})]);class AddWarehouseContainer extends react__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(...e){super(...e),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"state",{modelName:"warehouse",showWhGtgRules:!0}),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"close",(()=>{this.props.history.goBack()})),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"changeModelName",(e=>{this.setState({modelName:e})})),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"closeWhGtgRules",(()=>{this.setState({showWhGtgRules:!1})}))}componentDidMount(){this.context.getWarehouseTypes()}get warehouseGtn(){const{warehouses:e}=this.props;if(e){return[...e.values()].filter((e=>e.isGuaranteed))[0]||null}return null}get pending(){const{warehouseUpdateQuery:e}=this.props;return e>0}get errors(){const{warehouseUpdateError:e}=this.props,_=e;return _?_.response||_:null}render(){const{whId:e,pending:_,warehouse:r,warehouseGtn:t}=this,{addWarehouse:o,getShops:a,getCurrency:s,currency:E}=this.context,{modelName:i,showWhGtgRules:l}=this.state,{warehouses:n}=this.props,p=n?[...n.values()]:[];return l&&"gtdWarehouse"==i?react__WEBPACK_IMPORTED_MODULE_1__.createElement(Js_components_modal_RouterModal__WEBPACK_IMPORTED_MODULE_2__.u,{onClose:this.close,className:"warehousers__pro-form__rules-modal"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"modwin__caption"},_translation__WEBPACK_IMPORTED_MODULE_7__.Z.ADDING_WAREHOUSE),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"modwin__sub-caption"},_translation__WEBPACK_IMPORTED_MODULE_7__.Z.CREATING_SGN),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_components_forms_warehouse_forms_WhGtdRulesForm__WEBPACK_IMPORTED_MODULE_6__.Z,{key:e,onSubmit:this.closeWhGtgRules})):react__WEBPACK_IMPORTED_MODULE_1__.createElement(Js_components_modal_RouterModal__WEBPACK_IMPORTED_MODULE_2__.u,{disabled:_,onClose:this.close,className:"warehouse-add-modal"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"modwin__caption"},_translation__WEBPACK_IMPORTED_MODULE_7__.Z.ADDING_WAREHOUSE),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"modwin__sub-caption"},_translation__WEBPACK_IMPORTED_MODULE_7__.Z.TYPE_WAREHOUSE_FORM)),react__WEBPACK_IMPORTED_MODULE_1__.createElement(AddWarehouseValidated,{warehouseTypes:this.props.warehouseTypes,dismantlings:this.props.dismantlings,currency:E,modelName:this.state.modelName,key:e,whId:e,errors:this.errors,warehouse:r,onSubmit:(e,_)=>{e||o(_).then((e=>{window.location.replace(`/warehouses/${e.value.id}`)}))},onReset:this.close,getShops:a,getCurrency:s,changeModelName:this.changeModelName,allowToCreateWarehouseGtn:!t,deliveryInfoLimits:deliveryInfoLimits,warehouses:p}))}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(AddWarehouseContainer,"contextType",_Context__WEBPACK_IMPORTED_MODULE_4__.Z),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(AddWarehouseContainer,"propTypes",{history:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object.isRequired,warehouseUpdateQuery:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number,warehouseUpdateError:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,warehouses:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object}),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(AddWarehouseContainer,"defaultProps",{warehouseUpdateQuery:0,warehouseUpdateError:null,warehouses:null});const _default=(0,_Context__WEBPACK_IMPORTED_MODULE_4__.L)(AddWarehouseContainer).to(extractObservables);var reactHotLoader,leaveModule;__webpack_exports__.Z=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(extractObservables,"extractObservables","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\containers\\modals\\AddWarehouseContainer.jsx"),reactHotLoader.register(deliveryInfoLimits,"deliveryInfoLimits","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\containers\\modals\\AddWarehouseContainer.jsx"),reactHotLoader.register(AddWarehouseValidated,"AddWarehouseValidated","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\containers\\modals\\AddWarehouseContainer.jsx"),reactHotLoader.register(AddWarehouseContainer,"AddWarehouseContainer","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\containers\\modals\\AddWarehouseContainer.jsx"),reactHotLoader.register(_default,"default","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\containers\\modals\\AddWarehouseContainer.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)},60623:function(e,_,r){var t;e=r.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const o=(e,_)=>{const r=e.filter((e=>e.isCarDisassembly&&e.name===_)),t=r.length+1;return r.length>1?`${_}(${t})`:_},a=o;var s,E;_.Z=a,(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(o,"getAddedNumberToName","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\utils\\getAddedNumberToName.ts"),s.register(a,"default","D:\\_work\\2\\s\\AvtoproSite\\Abp.Avtopro.Site\\js\\sources\\warehouse\\utils\\getAddedNumberToName.ts")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)}}]);
//# sourceMappingURL=..\..\..\maps\production\uk/5618.a06790da3b8d058a7354.js.map